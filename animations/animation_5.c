#include "animation_5.h"

void animation_5(PIO *pio, uint *sm) {
    const uint FRAMES =35, FRAME_DIMENSION = 5;

    double animate [35][5][5]={
    //Matriz zero - recebe os padr�es para transi��o 
    {{0.0, 0.0, 0.0, 0.0, 0.0},
      {0.0, 0.0, 0.0, 0.0, 0.0},
      {0.0, 0.0, 0.0, 0.0, 0.0},
      {0.0, 0.0, 0.0, 0.0, 0.0},
      {0.0, 0.0, 0.0, 0.0, 0.0}},

    //Matriz de ilustra��es contendo a abrevia��o do nome "Junior", seguida por um desenho de um rosto como destaque final.
    {{0.0, 0.0, 0.0, 0.0, 1.0},
      {0.0, 0.0, 0.0, 0.0, 0.0},
      {0.0, 0.0, 0.0, 0.0, 0.0},
      {0.0, 0.0, 0.0, 0.0, 0.0},
      {0.0, 0.0, 0.0, 0.0, 0.0}},

    {{0.0, 0.0, 0.0, 1.0, 1.0},
      {0.0, 0.0, 0.0, 0.0, 0.0},
      {0.0, 0.0, 0.0, 0.0, 0.0},
      {0.0, 0.0, 0.0, 0.0, 0.0},
      {0.0, 0.0, 0.0, 0.0, 0.0}},

    {{0.0, 0.0, 1.0, 1.0, 1.0},
      {0.0, 0.0, 0.0, 0.0, 0.0},
      {0.0, 0.0, 0.0, 0.0, 0.0},
      {0.0, 0.0, 0.0, 0.0, 0.0},
      {0.0, 0.0, 0.0, 0.0, 0.0}},

    {{0.0, 1.0, 1.0, 1.0, 1.0},
      {0.0, 0.0, 0.0, 0.0, 0.0},
      {0.0, 0.0, 0.0, 0.0, 0.0},
      {0.0, 0.0, 0.0, 0.0, 0.0},
      {0.0, 0.0, 0.0, 0.0, 0.0}},

    {{1.0, 1.0, 1.0, 1.0, 1.0},
      {0.0, 0.0, 0.0, 0.0, 0.0},
      {0.0, 0.0, 0.0, 0.0, 0.0},
      {0.0, 0.0, 0.0, 0.0, 0.0},
      {0.0, 0.0, 0.0, 0.0, 0.0}},

    {{1.0, 1.0, 1.0, 1.0, 1.0},
      {0.0, 0.0, 0.0, 0., 1.0},
      {0.0, 0.0, 0.0, 0.0, 0.0},
      {0.0, 0.0, 0.0, 0.0, 0.0},
      {0.0, 0.0, 0.0, 0.0, 0.0}},

    {{1.0, 1.0, 1.0, 1.0, 1.0},
      {0.0, 0.0, 0.0, 0.0, 1.0},
      {0.0, 0.0, 0.0, 0.0, 1.0},
      {0.0, 0.0, 0.0, 0.0, 0.0},
      {0.0, 0.0, 0.0, 0.0, 0.0}},

    {{1.0, 1.0, 1.0, 1.0, 1.0},
      {0.0, 0.0, 0.0, 0.0, 1.0},
      {0.0, 0.0, 0.0, 0.0, 1.0},
      {0.0, 0.0, 0.0, 0.0, 1.0},
      {0.0, 0.0, 0.0, 0.0, 0.0}},

    {{1.0, 1.0, 1.0, 1.0, 1.0},
      {0.0, 0.0, 0.0, 0.0, 1.0},
      {0.0, 0.0, 0.0, 0.0, 1.0},
      {0.0, 0.0, 0.0, 0.0, 1.0},
      {0.0, 0.0, 0.0, 0.0, 1.0}},

    {{1.0, 1.0, 1.0, 1.0, 1.0},
      {0.0, 0.0, 0.0, 0.0, 1.0},
      {0.0, 0.0, 0.0, 0.0, 1.0},
      {0.0, 0.0, 0.0, 0.0, 1.0},
      {0.0, 0.0, 0.0, 1.0, 1.0}},

    {{1.0, 1.0, 1.0, 1.0, 1.0},
      {0.0, 0.0, 0.0, 0.0, 1.0},
      {0.0, 0.0, 0.0, 0.0, 1.0},
      {0.0, 0.0, 0.0, 0.0, 1.0},
      {0.0, 0.0, 1.0, 1.0, 1.0}},

    {{1.0, 1.0, 1.0, 1.0, 1.0},
      {0.0, 0.0, 0.0, 0.0, 1.0},
      {0.0, 0.0, 0.0, 0.0, 1.0},
      {0.0, 0.0, 0.0, 0.0, 1.0},
      {0.0, 1.0, 1.0, 1.0, 1.0}},

    {{1.0, 1.0, 1.0, 1.0, 1.0},
      {0.0, 0.0, 0.0, 0.0, 1.0},
      {0.0, 0.0, 0.0, 0.0, 1.0},
      {0.0, 0.0, 0.0, 0.0, 1.0},
      {1.0, 1.0, 1.0, 1.0, 1.0}},

    {{1.0, 1.0, 1.0, 1.0, 1.0},
      {0.0, 0.0, 0.0, 0.0, 1.0},
      {0.0, 0.0, 0.0, 0.0, 1.0},
      {1.0, 0.0, 0.0, 0.0, 1.0},
      {1.0, 1.0, 1.0, 1.0, 1.0}},

    {{1.0, 1.0, 1.0, 1.0, 1.0},
      {0.0, 0.0, 0.0, 0.0, 1.0},
      {1.0, 0.0, 0.0, 0.0, 1.0},
      {1.0, 0.0, 0.0, 0.0, 1.0},
      {1.0, 1.0, 1.0, 1.0, 1.0}},

    {{1.0, 1.0, 1.0, 1.0, 1.0},
      {0.0, 0.0, 0.0, 0.0, 1.0},
      {1.0, 1.0, 0.0, 0.0, 1.0},
      {1.0, 0.0, 0.0, 0.0, 1.0},
      {1.0, 1.0, 1.0, 1.0, 1.0}},

    {{1.0, 1.0, 1.0, 1.0, 1.0},
      {0.0, 0.0, 0.0, 0.0, 1.0},
      {1.0, 1.0, 1.0, 0.0, 1.0},
      {1.0, 0.0, 0.0, 0.0, 1.0},
      {1.0, 1.0, 1.0, 1.0, 1.0}},
//17
    {{0.0, 0.0, 0.0, 0.0, 0.0},
      {0.0, 0.0, 0.0, 0.0, 0.0},
      {0.0, 0., 0.0, 0.0, 0.0},
      {0.0, 0.0, 0.0, 0.0, 0.0},
      {0.0, 0.0, 0.0, 0.0, 1.0}},

    {{0.0, 0.0, 0.0, 0.0, 0.0},
      {0.0, 0.0, 0.0, 0.0, 0.0},
      {0.0, 0., 0.0, 0.0, 0.0},
      {0.0, 0.0, 0.0, 0.0, 0.0},
      {0.0, 0.0, 0.0, 1.0, 1.0}},

    {{0.0, 0.0, 0.0, 0.0, 0.0},
      {0.0, 0.0, 0.0, 0.0, 0.0},
      {0.0, 0., 0.0, 0.0, 0.0},
      {0.0, 0.0, 0.0, 1.0, 0.0},
      {0.0, 0.0, 0.0, 1.0, 1.0}},

    {{0.0, 0.0, 0.0, 0.0, 0.0},
      {0.0, 0.0, 0.0, 0.0, 0.0},
      {0.0, 0., 0.0, 1.0, 0.0},
      {0.0, 0.0, 0.0, 1.0, 0.0},
      {0.0, 0.0, 0.0, 1.0, 1.0}},

    {{0.0, 0.0, 0.0, 0.0, 0.0},
      {0.0, 0.0, 0.0, 1.0, 0.0},
      {0.0, 0., 0.0, 1.0, 0.0},
      {0.0, 0.0, 0.0, 1.0, 0.0},
      {0.0, 0.0, 0.0, 1.0, 1.0}},

    {{0.0, 0.0, 0.0, 1.0, 0.0},
      {0.0, 0.0, 0.0, 1.0, 0.0},
      {0.0, 0., 0.0, 1.0, 0.0},
      {0.0, 0.0, 0.0, 1.0, 0.0},
      {0.0, 0.0, 0.0, 1.0, 1.0}},

    {{0.0, 0.0, 1.0, 1.0, 0.0},
      {0.0, 0.0, 0.0, 1.0, 0.0},
      {0.0, 0., 0.0, 1.0, 0.0},
      {0.0, 0.0, 0.0, 1.0, 0.0},
      {0.0, 0.0, 0.0, 1.0, 1.0}},

    {{0.0, 1.0, 1.0, 1.0, 0.0},
      {0.0, 0.0, 0.0, 1.0, 0.0},
      {0.0, 0., 0.0, 1.0, 0.0},
      {0.0, 0.0, 0.0, 1.0, 0.0},
      {0.0, 0.0, 0.0, 1.0, 1.0}},

    {{1.0, 1.0, 1.0, 1.0, 0.0},
      {0.0, 0.0, 0.0, 1.0, 0.0},
      {0.0, 0., 0.0, 1.0, 0.0},
      {0.0, 0.0, 0.0, 1.0, 0.0},
      {0.0, 0.0, 0.0, 1.0, 1.0}},

    {{1.0, 1.0, 1.0, 1.0, 0.0},
      {1.0, 0.0, 0.0, 1.0, 0.0},
      {0.0, 0., 0.0, 1.0, 0.0},
      {0.0, 0.0, 0.0, 1.0, 0.0},
      {0.0, 0.0, 0.0, 1.0, 1.0}},

    {{1.0, 1.0, 1.0, 1.0, 0.0},
      {1.0, 0.0, 0.0, 1.0, 0.0},
      {1.0, 0., 0.0, 1.0, 0.0},
      {0.0, 0.0, 0.0, 1.0, 0.0},
      {0.0, 0.0, 0.0, 1.0, 1.0}},

    {{1.0, 1.0, 1.0, 1.0, 0.0},
      {1.0, 0.0, 0.0, 1.0, 0.0},
      {1.0, 0., 0.0, 1.0, 0.0},
      {1.0, 0.0, 0.0, 1.0, 0.0},
      {0.0, 0.0, 0.0, 1.0, 1.0}},

    {{1.0, 1.0, 1.0, 1.0, 0.0},
      {1.0, 0.0, 0.0, 1.0, 0.0},
      {1.0, 0.0, 0.0, 1.0, 0.0},
      {1.0, 0.0, 0.0, 1.0, 0.0},
      {1.0, 0.0, 0.0, 1.0, 1.0}},

    {{0.5, 0.5, 0.0, 0.5, 0.5},
      {0.0, 0.0, 0.0, 0.0, 0.0},
      {0.0, 0.0, 0.0, 0.0, 0.0},
      {0.0, 0.0, 0.0, 0.0, 0.0},
      {0.0, 0.0, 0.0, 0.0, 0.0}},

    {{0.0, 0.0, 0.0, 0.0, 0.0},
      {0.0, 0.0, 0.0, 0.0, 0.0},
      {0.0, 0.0, 1.0, 0.0, 0.0},
      {0.0, 0.0, 0.0, 0.0, 0.0},
      {0.0, 0.0, 0.0, 0.0, 0.0}},

    {{0.0, 0.0, 0.0, 0.0, 0.0},
      {0.0, 0.0, 0.0, 0.0, 0.0},
      {0.0, 0.0, 0.0, 0.0, 0.0},
      {0.5, 0.0, 0.0, 0.0, 0.5},
      {0.5, 0.5, 0.5, 0.5, 0.5}}, 
    
    {{1.0, 1.0, 0.0, 1.0, 1.0},
      {0.0, 0.0, 0.0, 0.0, 0.0},
      {0.0, 0.0, 1.0, 0.0, 0.0},
      {1.0, 0.0, 0.0, 0.0, 1.0},
      {1.0, 1.0, 1.0, 1.0, 1.0}},
    
    };

    for (int i = 0; i<FRAMES; i++)
    {
        resetTransitionFrame(animate[0], &FRAME_DIMENSION);

        for (int j = 0; j < FRAME_DIMENSION; j++)
        {
            for (int k = 0; k < FRAME_DIMENSION; k++)
            {
                //cor do j em verde
                if( i <=17){

                    pio_sm_put_blocking(*pio, *sm, matrix_rgb(0.0, animate[i][FRAME_DIMENSION - 1 -j ][(j + 1) % 2 == 0 ? k : FRAME_DIMENSION - k - 1], 0.0));
                // cor do r em azul
                }else if(i <=30){

                    pio_sm_put_blocking(*pio, *sm, matrix_rgb(0.0, 0.0, animate[i][FRAME_DIMENSION - 1 -j ][(j + 1) % 2 == 0 ? k : FRAME_DIMENSION - k - 1]));
                }else{

                    pio_sm_put_blocking(*pio, *sm, matrix_rgb(0.0, animate[i][FRAME_DIMENSION - 1 -j ][(j + 1) % 2 == 0 ? k : FRAME_DIMENSION - k - 1], 0.0));
                }
            
            }
        }
        sleep_ms(1000);

        for (int column = FRAME_DIMENSION - 1; column >= 0; column--){
            for (int row = FRAME_DIMENSION - 1; row >= 0; row--)
            {
                animate[0][row][column] = 0.5;
            }
        
        for (int j = 0; j < FRAME_DIMENSION; j++)
            {
                for (int k = 0; k < FRAME_DIMENSION; k++)
                {
                    pio_sm_put_blocking(*pio, *sm, matrix_rgb (animate[0][FRAME_DIMENSION - 1 - j][(j + 1) % 2 == 0 ? k : FRAME_DIMENSION - k - 1], animate[0][FRAME_DIMENSION - 1 - j][(j + 1) % 2 == 0 ? k : FRAME_DIMENSION - k - 1], animate[0][FRAME_DIMENSION - 1 - j][(j + 1) % 2 == 0 ? k : FRAME_DIMENSION - k - 1]));
                void all_leds_off();
                }
               
            }
            sleep_ms(100);
        }
    
    } 

}
